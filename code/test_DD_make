GTEST_HEADERS = ../gtest-1.6.0/include/gtest/*.h \
	      ../gtest-1.6.0/include/gtest/internal/*.h

all : test_DD

test_DD : test_domain_decomp.o domain_decomp.o ../gtest-1.6.0/make/gtest_main.a
	g++ -I../gtest-1.6.0/include -pthread -g -O3 -Wall -o $@ $^

test_domain_decomp.o : test_domain_decomp.cc $(GTEST_HEADERS)
	g++ -I../gtest-1.6.0/include -pthread -g -O3 -Wall -c $<

domain_decomp.o : domain_decomp.cc $(GTEST_HEADERS)
	g++ -I../gtest-1.6.0/include -pthread -g -O3 -Wall -c $<

clean :
	rm test_domain_decomp.o domain_decomp.o test_DD
	rm .depend